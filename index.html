<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Digitales Cashflow‑Tool</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="mobile-handle" id="mobile-handle"></div>
  <div class="profile-selector-container">
    <div class="profile-selection">
      <label for="profile-selector">Profil:</label>
      <select id="profile-selector">
        <option value="debug-anwalt">🐞 Debug Anwalt</option>
        <option value="anwalt">⚖️ Anwalt</option>
        <option value="arzt">🩺 Arzt</option>
        <option value="hausmeister">🏠 Hausmeister</option>
        <option value="ingenieur">👷 Ingenieur</option>
        <option value="krankenschwester">🏥 Krankenschwester</option>
        <option value="lehrer">📚 Lehrer</option>
        <option value="lkw-fahrer">🚚 LKW‑Fahrer</option>
        <option value="manager">💼 Manager</option>
        <option value="mechaniker">🔧 Mechaniker</option>
        <option value="pilot">✈️ Pilot</option>
        <option value="polizist">👮 Polizist</option>
        <option value="sekretaer">🗂️ Sekretär</option>
      </select>
    </div>
  </div>  
  
  <!-- Popup für Edelmetalle Kauf -->
  <div id="metals-popup" class="popup-overlay">
    <div class="popup-content">
      <h3>Edelmetalle kaufen</h3>
      <div class="popup-grid">
        <label>Kaufart:</label>
        <select id="metals-buy-type">
          <option value="total">Gesamtpreis</option>
          <option value="per-coin">Preis pro Münze</option>
        </select>
        
        <label>Anzahl Münzen:</label>
        <input id="metals-coins" type="number" min="1" value="1">
        
        <label>Preis:</label>
        <input id="metals-price" type="number" min="0" value="0">
          <div id="metals-total-container" style="display: none">
          <label>Gesamtpreis:</label>
          <span id="metals-total-price">0 €</span>
        </div>
      </div>
      
      <div class="popup-buttons">
        <button id="metals-buy-confirm">Kaufen</button>
        <button id="metals-buy-cancel">Abbrechen</button>
      </div>
    </div>
  </div>
  
  <!-- Popup für Edelmetalle Verkauf -->  <div id="metals-sell-popup" class="popup-overlay">
    <div class="popup-content">
      <h3>Edelmetalle verkaufen</h3>
      <div class="popup-grid">
        <label>Verkaufsart:</label>
        <select id="metals-sell-type">
          <option value="total">Gesamtpreis</option>
          <option value="per-coin">Preis pro Münze</option>
        </select>
        
        <label>Anzahl Münzen:</label>
        <input id="metals-sell-coins" type="number" min="1" value="1">
        
        <label>Preis:</label>
        <input id="metals-sell-price" type="number" min="0" value="0">
        
        <div id="metals-sell-total-container" style="display: none">
          <label>Gesamterlös:</label>
          <span id="metals-sell-total-price">0 €</span>
        </div>
        
        <label>Verfügbare Münzen:</label>
        <span id="metals-available">0</span>
      </div>
      
      <div class="popup-buttons">
        <button id="metals-sell-confirm">Verkaufen</button>
        <button id="metals-sell-cancel">Abbrechen</button>
      </div>
    </div>
  </div>
    <!-- Popup für Aktien Kauf -->
  <div id="stocks-popup" class="popup-overlay">
    <div class="popup-content">
      <h3>Aktien kaufen</h3>
      <div class="popup-grid">
        <label>Name:</label>
        <input id="stocks-name" type="text" value="" placeholder="Name der Aktie">
        
        <label>Anzahl Aktien:</label>
        <input id="stocks-shares" type="number" min="1" value="1">
        
        <label>Preis:</label>
        <input id="stocks-price" type="number" min="0" value="0">
          <div id="stocks-total-container" style="display: contents">
            <label>Gesamtpreis:</label>
          <span id="stocks-total-price">0 €</span>
        </div>
      </div>
      
      <div class="popup-buttons">
        <button id="stocks-buy-confirm">Kaufen</button>
        <button id="stocks-buy-cancel">Abbrechen</button>
      </div>
    </div>
  </div>
    <!-- Popup für Aktien Verkauf -->  <div id="stocks-sell-popup" class="popup-overlay">
    <div class="popup-content">
      <h3>Aktien verkaufen</h3>
      <div class="popup-grid">
        <label>Name:</label>
        <select id="stocks-sell-name">
          <!-- Options will be populated dynamically -->
        </select>
        
        <label>Anzahl Aktien:</label>
        <input id="stocks-sell-shares" type="number" min="1" value="1">
        
        <label>Preis:</label>
        <input id="stocks-sell-price" type="number" min="0" value="0">
        
        <div id="stocks-sell-total-container" style="display: none">
          <label>Gesamterlös:</label>
          <span id="stocks-sell-total-price">0 €</span>
        </div>
        
        <label>Verfügbare Aktien:</label>
        <span id="stocks-available">0</span>
      </div>
      
      <div class="popup-buttons">
        <button id="stocks-sell-confirm">Verkaufen</button>
        <button id="stocks-sell-cancel">Abbrechen</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="sheet">
      <section>
        <h2>1) Einkommen</h2>
        <div class="grid4">
          <div class="label">Gehalt:</div>
          <input id="input-income-salary" type="number" readonly>
          <div class="label">Immobilien/Unternehmen:</div>
          <input id="input-income-property" type="number" readonly>
        </div>
      </section>
      <section>
        <h2>2) Ausgaben</h2>
        <div class="grid4">
          <div class="label">Steuern:</div>
          <input id="input-expenses-taxes" type="number" readonly>
          <div class="label">Eigenheim‑Hypothek:</div>
          <input id="input-expenses-mortgage" type="number" readonly>
          <div class="label">BAföG Darlehenszahlung:</div>
          <input id="input-expenses-bafog" type="number" readonly>
          <div class="label">Autokredit‑Zahlung:</div>
          <input id="input-expenses-autoloan" type="number" readonly>
          <div class="label">Kreditkarten‑Zahlung:</div>
          <input id="input-expenses-cc" type="number" readonly>
          <div class="label">Bankkredit‑Zahlung:</div>
          <input id="input-expenses-bank" type="number" readonly>
        </div>
      </section>
      <section>
        <h2>3) Vermögenswerte</h2>
        <div class="grid3">
          <div class="label">Edelmetalle etc.:</div>
          <div class="asset-control">
            <input id="input-asset-metals" type="number" readonly class="full-span">
            <button id="btn-buy-metals">Kaufen</button>
            <button id="btn-sell-metals" disabled>Verkaufen</button>
          </div>          <div class="label">Aktien/Fonds/CDs:</div>          <div class="asset-control">
            <input id="input-asset-stocks-name" type="text" readonly placeholder="Name">
            <input id="input-asset-stocks-qty" type="number" readonly placeholder="Anzahl">
            <input id="input-asset-stocks-cost" type="number" readonly placeholder="Kosten">
            <button id="btn-buy-stocks">Kaufen</button>
            <button id="btn-sell-stocks" disabled>Verkaufen</button>
            <ul id="stocks-assets-list" class="asset-list"></ul>
          </div>
          <div class="label">Immobilien/Unternehmen:</div>
          <div class="asset-control">
            <input id="input-asset-property-down" type="number" readonly>
            <input id="input-asset-property-cost" type="number" readonly>
            <button id="btn-buy-property">Kaufen</button>
            <button id="btn-sell-property" disabled>Verkaufen</button>
          </div>
        </div>
      </section>
      <section>
        <h2>4) Verbindlichkeiten</h2>
        <div class="grid4">
          <div class="label">Eigenheim‑Hypothek:</div>
          <div class="liability-control">
            <input id="input-liability-mortgage" type="number" readonly>
            <button id="btn-pay-mortgage">Abzahlen</button>
          </div>
          <div class="label">BAföG Darlehen:</div>
          <div class="liability-control">
            <input id="input-liability-bafog" type="number" readonly>
            <button id="btn-pay-bafog">Abzahlen</button>
          </div>
          <div class="label">Autokredit:</div>
          <div class="liability-control">
            <input id="input-liability-autoloan" type="number" readonly>
            <button id="btn-pay-autoloan">Abzahlen</button>
          </div>
          <div class="label">Kreditkartenschulden:</div>
          <div class="liability-control">
            <input id="input-liability-cc" type="number" readonly>
            <button id="btn-pay-cc">Abzahlen</button>
          </div>
          <div class="label">Bankkredit:</div>
          <div class="liability-control bank-loan-control">
            <input id="input-liability-bank" type="number" readonly>
            <div class="bank-controls">
              <button id="btn-pay-bank-1000">-1000</button>
              <button id="btn-take-bank-1000">+1000</button>
            </div>
          </div>
        </div>
      </section>
    </div>
    <div class="sheet bargeldkonto">
      <h2>Bargeldkonto – <span id="job-display"></span></h2>
      <div class="summary">
        <label>Gehalt:<span id="sum-salary">0 €</span></label>
        <label>Passives Einkommen:<span id="sum-passive">0 €</span></label>
        <label>Gesamtes Einkommen:<span id="sum-total-income">0 €</span></label>
        <label>Gesamte Ausgaben:<span id="sum-total-expenses">0 €</span></label>
        <label>Cashflow:<span id="sum-cashflow">0 €</span></label>
      </div>
      <div class="balance">Aktueller Kontostand: <span id="current-balance">0,00</span> €</div>
      <ul id="entries"></ul>
    </div>
  </div>  <!-- Load JavaScript modules -->
  <script src="js/core.js"></script>
  <script src="js/bankloan.js"></script>
  <script src="js/metals.js"></script>
  <script src="js/metals-init.js"></script>
  <script src="js/stocks.js"></script>
  <script src="js/ui-utils.js"></script>
</body>

</html>
